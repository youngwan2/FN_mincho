import { useState } from "react";
import { IoRefreshOutline } from "react-icons/io5";

const allSuggestions = [
  "ë‘í†µì— ì¢‹ì€ ì•½ì´ˆ",
  "ìˆ˜ë©´ì— ë„ì›€ë˜ëŠ” ì•½ì´ˆ",
  "ìŠ¤íŠ¸ë ˆìŠ¤ ì™„í™” ì•½ì´ˆ",
  "ì†Œí™”ì— ì¢‹ì€ ì•½ì´ˆ",
  "ë©´ì—­ë ¥ ê°•í™” ì•½ì´ˆ",
  "í”¼ë¡œ íšŒë³µì— ì¢‹ì€ ì•½ì´ˆ",
  "í˜ˆì•¡ìˆœí™˜ ê°œì„  ì•½ì´ˆ",
  "ë‹¤ì´ì–´íŠ¸ì— ì¢‹ì€ ì•½ì´ˆ",
  "ê°„ ê±´ê°•ì— ì¢‹ì€ ì•½ì´ˆ",
  "ì—¬ì„± ê±´ê°•ì„ ìœ„í•œ ì•½ì´ˆ",
  "ë…¸í™” ë°©ì§€ ì•½ì´ˆ",
  "ê¸°ì–µë ¥ í–¥ìƒ ì•½ì´ˆ",
  "ëˆˆ ê±´ê°•ì— ì¢‹ì€ ì•½ì´ˆ",
  "í•­ì‚°í™” íš¨ê³¼ê°€ ìˆëŠ” ì•½ì´ˆ",
  "ê°ê¸° ì˜ˆë°©ì— ì¢‹ì€ ì•½ì´ˆ",
  "í˜ˆì•• ì¡°ì ˆì— ì¢‹ì€ ì•½ì´ˆ",
  "ë‹¹ë‡¨ ì˜ˆë°©ì— ë„ì›€ ë˜ëŠ” ì•½ì´ˆ",
  "íƒˆëª¨ ì˜ˆë°© ì•½ì´ˆ",
  "ì²´ì˜¨ ì¡°ì ˆì„ ë•ëŠ” ì•½ì´ˆ",
  "ë¶ˆë©´ì¦ ê°œì„  ì•½ì´ˆ",
  "ì¥ ê±´ê°•ì— ì¢‹ì€ ì•½ì´ˆ",
  "í•´ë… ì‘ìš©ì„ ë•ëŠ” ì•½ì´ˆ",
  "ì²œì—° ì§„í†µ íš¨ê³¼ê°€ ìˆëŠ” ì•½ì´ˆ",
  "í”¼ë¶€ ê±´ê°•ì— ì¢‹ì€ ì•½ì´ˆ",
  "í˜¸í¡ê¸° ê±´ê°•ì— ì¢‹ì€ ì•½ì´ˆ",
  "ê´€ì ˆ í†µì¦ ì™„í™” ì•½ì´ˆ",
  "ë©´ì—­ì„¸í¬ í™œì„±í™” ì•½ì´ˆ",
  "ê°„ í•´ë…ì„ ë•ëŠ” ì•½ì´ˆ",
  "ê¸°ìš´ì„ ë¶ë‹ëŠ” ì•½ì´ˆ",
  "ê¸°ê´€ì§€ì— ì¢‹ì€ ì•½ì´ˆ",
  "ì—¼ì¦ ì™„í™”ì— íš¨ê³¼ì ì¸ ì•½ì´ˆ",
  "ë¹ˆí˜ˆ ì˜ˆë°©ì— ì¢‹ì€ ì•½ì´ˆ",
  "ì„±ì¸ë³‘ ì˜ˆë°©ì— ë„ì›€ë˜ëŠ” ì•½ì´ˆ",
  "ì¥ì—¼ ì¦ìƒ ì™„í™” ì•½ì´ˆ",
  "ìš°ìš¸ê° ê°œì„ ì— ì¢‹ì€ ì•½ì´ˆ",
  "ì§‘ì¤‘ë ¥ í–¥ìƒ ì•½ì´ˆ",
  "ì—ë„ˆì§€ íšŒë³µì— ì¢‹ì€ ì•½ì´ˆ",
  "ìì—°ìŠ¤ëŸ¬ìš´ ì§„ì • íš¨ê³¼ê°€ ìˆëŠ” ì•½ì´ˆ",
  "ë³€ë¹„ ì™„í™”ì— ì¢‹ì€ ì•½ì´ˆ",
  "ë¹„ì—¼ ì™„í™”ì— íš¨ê³¼ì ì¸ ì•½ì´ˆ",
  "ì²œì—° í•­ìƒì œ ì—­í• ì„ í•˜ëŠ” ì•½ì´ˆ",
  "ì´ë‡¨ ì‘ìš©ì„ ë•ëŠ” ì•½ì´ˆ",
  "ì†ë°œ ëƒ‰ì¦ ì™„í™” ì•½ì´ˆ",
  "ê³¨ë‹¤ê³µì¦ ì˜ˆë°© ì•½ì´ˆ",
  "ë‘ë“œëŸ¬ê¸° ì™„í™”ì— ì¢‹ì€ ì•½ì´ˆ",
  "ì†ì“°ë¦¼ ì™„í™”ì— ì¢‹ì€ ì•½ì´ˆ",
  "ì²´ë ¥ ë³´ê°•ì— ì¢‹ì€ ì•½ì´ˆ",
  "ëª© í†µì¦ì— íš¨ê³¼ì ì¸ ì•½ì´ˆ",
  "ìŠ¤íŠ¸ë ˆìŠ¤ë¡œ ì¸í•œ ì†Œí™”ë¶ˆëŸ‰ì— ì¢‹ì€ ì•½ì´ˆ",
  "ìƒë¦¬í†µ ì™„í™”ì— ì¢‹ì€ ì•½ì´ˆ",
  "ê°„ì—¼ ì˜ˆë°©ì— ì¢‹ì€ ì•½ì´ˆ",
  "ê¸°ì¹¨ ì™„í™”ì— íš¨ê³¼ì ì¸ ì•½ì´ˆ",
  "ì… ëƒ„ìƒˆ ì œê±°ì— ì¢‹ì€ ì•½ì´ˆ",
  "ì—¬ë“œë¦„ ì™„í™”ì— ì¢‹ì€ ì•½ì´ˆ",
  "ì²œì‹ ì¦ìƒ ì™„í™” ì•½ì´ˆ",
  "ë‘ê·¼ê±°ë¦¼ ì™„í™”ì— ì¢‹ì€ ì•½ì´ˆ",
  "ì†Œí™”ë¶ˆëŸ‰ ê°œì„ ì— íš¨ê³¼ì ì¸ ì•½ì´ˆ",
  "ì¥ë‚´ ìœ ìµê·  ì¦ì‹ì— ì¢‹ì€ ì•½ì´ˆ",
  "ë§Œì„± í”¼ë¡œ ì™„í™”ì— íš¨ê³¼ì ì¸ ì•½ì´ˆ",
  "ê°±ë…„ê¸° ì¦ìƒ ì™„í™” ì•½ì´ˆ",
  "ê·¼ìœ¡í†µ ì™„í™”ì— ì¢‹ì€ ì•½ì´ˆ",
  "ì •ë ¥ ê°•í™”ì— ì¢‹ì€ ì•½ì´ˆ",
  "íŠ¸ë¦¼ì„ ì¤„ì—¬ì£¼ëŠ” ì•½ì´ˆ",
  "ë¶ˆì•ˆ ì™„í™”ì— íš¨ê³¼ì ì¸ ì•½ì´ˆ",
  "ê°„ ê¸°ëŠ¥ íšŒë³µì„ ë•ëŠ” ì•½ì´ˆ",
  "í¸ë‘í†µ ì™„í™”ì— ì¢‹ì€ ì•½ì´ˆ",
  "í™˜ì ˆê¸° ë©´ì—­ë ¥ ê°•í™” ì•½ì´ˆ",
  "ë¹ˆì†ì—ë„ í¸ì•ˆí•œ ì•½ì´ˆ",
  "ë‹¤ë¦¬ ë¶“ê¸° ì™„í™”ì— ì¢‹ì€ ì•½ì´ˆ",
  "ì½œë ˆìŠ¤í…Œë¡¤ ì¡°ì ˆì— ë„ì›€ ë˜ëŠ” ì•½ì´ˆ",
  "ë§Œì„± ìŠ¤íŠ¸ë ˆìŠ¤ ì™„í™” ì•½ì´ˆ",
  "ì¥ì‹œê°„ ì•‰ì•„ìˆëŠ” ì‚¬ëŒì—ê²Œ ì¢‹ì€ ì•½ì´ˆ",
  "ë‘í”¼ ê±´ê°•ì— ì¢‹ì€ ì•½ì´ˆ",
  "ë¹„íƒ€ë¯¼C í’ë¶€í•œ ì•½ì´ˆ",
  "ììœ¨ì‹ ê²½ ì¡°ì ˆì— ë„ì›€ ë˜ëŠ” ì•½ì´ˆ",
  "ì²­ì†Œë…„ ì§‘ì¤‘ë ¥ í–¥ìƒ ì•½ì´ˆ",
  "ê°“ë‚œì•„ì´ ì‚°ëª¨ì—ê²Œ ì¢‹ì€ ì•½ì´ˆ",
  "ê°ì • ê¸°ë³µ ì™„í™”ì— ì¢‹ì€ ì•½ì´ˆ",
  "í˜ˆë‹¹ ì¡°ì ˆì„ ë•ëŠ” ì•½ì´ˆ",
  "ëª¸ì† ë…ì†Œ ë°°ì¶œì— ì¢‹ì€ ì•½ì´ˆ",
  "ì‹ìš• ë¶€ì§„ ê°œì„ ì— ì¢‹ì€ ì•½ì´ˆ",
  "ì†Œë³€ ì´ìƒ ì¦ìƒ ì™„í™” ì•½ì´ˆ",
  "ì‹¬ì¥ ê±´ê°•ì— ì¢‹ì€ ì•½ì´ˆ",
  "ì‹ ê²½ ì•ˆì •ì— ë„ì›€ ë˜ëŠ” ì•½ì´ˆ",
  "í˜ˆê´€ ê±´ê°•ì„ ìœ„í•œ ì•½ì´ˆ",
  "ì†ë°œ ì €ë¦¼ ì™„í™”ì— ì¢‹ì€ ì•½ì´ˆ",
  "ì‹ ì§„ëŒ€ì‚¬ ì´‰ì§„ì— ì¢‹ì€ ì•½ì´ˆ",
  "ìš´ë™ í›„ íšŒë³µì— ë„ì›€ ë˜ëŠ” ì•½ì´ˆ",
  "ì²´ì§€ë°© ê°ì†Œë¥¼ ë•ëŠ” ì•½ì´ˆ",
  "ì—¬ë¦„ì²  ë•€ ì¡°ì ˆì— ì¢‹ì€ ì•½ì´ˆ",
  "ê²¨ìš¸ì²  ë©´ì—­ë ¥ ê°•í™”ì— ì¢‹ì€ ì•½ì´ˆ",
  "ì•„ì´ ì„±ì¥ ë°œë‹¬ì— ì¢‹ì€ ì•½ì´ˆ",
  "ê°±ë…„ê¸° ì—¬ì„± í˜¸ë¥´ëª¬ ê· í˜•ì— ì¢‹ì€ ì•½ì´ˆ",
  "ë‚¨ì„± ê±´ê°•ì„ ìœ„í•œ ì•½ì´ˆ",
  "í˜ˆì¤‘ ì¤‘ì„±ì§€ë°© ê´€ë¦¬ì— ì¢‹ì€ ì•½ì´ˆ",
  "ê°„ë‹¨íˆ ì°¨ë¡œ ë§ˆì‹œê¸° ì¢‹ì€ ì•½ì´ˆ",
  "ì‚°í›„ íšŒë³µì— ì¢‹ì€ ì•½ì´ˆ",
  "ìˆ˜í—˜ìƒ ì§‘ì¤‘ë ¥ ê°•í™” ì•½ì´ˆ",
  "ìŠ¤íŠ¸ë ˆìŠ¤ì„± íƒˆëª¨ ì˜ˆë°© ì•½ì´ˆ",
  "ì•„í† í”¼ í”¼ë¶€ ì™„í™”ì— ë„ì›€ ë˜ëŠ” ì•½ì´ˆ",
  "ì…ë§ ì™„í™”ì— ì¢‹ì€ ì•½ì´ˆ",
  "ìš´ì „ ì¤‘ ì¡¸ìŒ ë°©ì§€ì— ì¢‹ì€ ì•½ì´ˆ",
  "ì•„ì¹¨ í™œë ¥ì„ ë†’ì—¬ì£¼ëŠ” ì•½ì´ˆ",
  "ì•¼ê·¼ í›„ í”¼ë¡œ íšŒë³µì— ì¢‹ì€ ì•½ì´ˆ",
  "ë°¤ ëŠ¦ê²Œê¹Œì§€ ê³µë¶€í•  ë•Œ ì¢‹ì€ ì•½ì´ˆ",
  "ê¸°ë ¥ ì €í•˜ ë°©ì§€ì— ì¢‹ì€ ì•½ì´ˆ",
  "ì¹´í˜ì¸ ëŒ€ì²´ìš©ìœ¼ë¡œ ì¢‹ì€ ì•½ì´ˆ",
  "ê³¼ë¯¼ì„± ëŒ€ì¥ ì¦í›„êµ° ì™„í™” ì•½ì´ˆ",
  "ì¥ ëˆ„ìˆ˜ ì¦í›„êµ° ì˜ˆë°©ì— ì¢‹ì€ ì•½ì´ˆ",
  "ëª©ì†Œë¦¬ ë³´í˜¸ì— ì¢‹ì€ ì•½ì´ˆ",
  "ë‚ ì”¨ ë³€í™”ì— ê°•í•´ì§€ëŠ” ì•½ì´ˆ",
  "í”¼ë¶€ íŠ¸ëŸ¬ë¸” ì˜ˆë°©ì— ì¢‹ì€ ì•½ì´ˆ",
  "ì •ì‹ ì  ê¸´ì¥ ì™„í™”ì— ì¢‹ì€ ì•½ì´ˆ",
  "ìì£¼ ë¶“ëŠ” ì²´ì§ˆì„ ìœ„í•œ ì•½ì´ˆ",
  "ê°„ë‹¨íˆ ìš°ë ¤ ë§ˆì‹œê¸° ì¢‹ì€ ì•½ì´ˆ",
  "ì¼êµì°¨ë¡œ ì¸í•œ ê°ê¸° ì˜ˆë°© ì•½ì´ˆ",
  "ì•„í† í”¼ ì²´ì§ˆ ê°œì„ ì— ë„ì›€ ë˜ëŠ” ì•½ì´ˆ",
  "ìˆ˜ìˆ  í›„ íšŒë³µì„ ë•ëŠ” ì•½ì´ˆ",
  "ë©´ì—­ë ¥ ì €í•˜ë¡œ ì¸í•œ ì§ˆë³‘ ì˜ˆë°© ì•½ì´ˆ"
];

function getRandomSuggestions(list: string[], count: number) {
  // ê²°ê³¼ê°€ ì–‘ìˆ˜ë©´ bê°€ ì•ìœ¼ë¡œ â†’ a, b ìœ„ì¹˜ ë°”ë€œì´ë¥¼ ì´ìš©í•´ ê°„ë‹¨í•œ ì„ê¸°ë¥¼ ìˆ˜í–‰í•˜ëŠ” ê²ƒ
  const shuffled = [...list].sort(() => 0.5 - Math.random());
  return shuffled.slice(0, count);
}

export default function SuggestionBox({ setInput }: { setInput: (text: string) => void }) {
  const [suggestions, setSuggestions] = useState(() =>
    getRandomSuggestions(allSuggestions, 5)
  );

  // ìƒˆë¡œ ë¶ˆëŸ¬ì˜¤ê¸°
  const handleRefresh = () => {
    setSuggestions(getRandomSuggestions(allSuggestions, 5));
  };
  return (
    <div className="relative">
      <div className="px-0 py-5 w-full border-t border-gray-200 flex gap-2 scrollbar-hide mx-auto relative bg-gradient-to-b from-white to-gray-50">
        <div className="p-5 rounded-lg w-full max-w-4xl mx-auto">
          <div className="flex items-center justify-between w-full mb-5">
            <h2 className="text-2xl font-semibold text-gray-700 flex items-center gap-2">
              <span className="bg-[#05D182]/10 p-1.5 rounded-md">ğŸ’¡</span>
              ì´ ì£¼ì œëŠ” ì–´ë–¤ê°€ìš”?
            </h2>
            <button
              title="ìƒˆë¡œ ë¶ˆëŸ¬ì˜¤ê¸°"
              aria-label="ìƒˆë¡œ ë¶ˆëŸ¬ì˜¤ê¸°"
              onClick={handleRefresh}
              className="px-3 py-3 bg-white text-[#05D182] rounded-full hover:bg-[#05D182] hover:text-white border border-[#05D182] transition-all duration-300 shadow-sm hover:shadow-md"
            >
              <IoRefreshOutline className="w-5 h-5" />
            </button>
          </div>

          <ul className="flex gap-2.5 flex-wrap">
            {suggestions.map((item, idx) => (
              <li
                onClick={() => setInput(item)}
                key={idx}
                className="border border-gray-200 py-1.5 px-4 rounded-full hover:bg-[#05D182]/10 hover:border-[#05D182]/30 hover:text-[#05D182] cursor-pointer text-gray-600 transition-all duration-200 shadow-sm bg-white"
              >
                {item}
              </li>
            ))}
          </ul>
        </div>
      </div>
    </div>
  );
}